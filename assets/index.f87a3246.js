var fe=Object.defineProperty;var _e=(s,e,t)=>e in s?fe(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var r=(s,e,t)=>(_e(s,typeof e!="symbol"?e+"":e,t),t);import{P as u}from"./vendor.92391934.js";const me=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function t(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerpolicy&&(i.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?i.credentials="include":l.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(l){if(l.ep)return;l.ep=!0;const i=t(l);fetch(l.href,i)}};me();class ge extends u.Scene{constructor(){super("Level");r(this,"jouer")}editorCreate(){const e=this.add.text(400,300,"",{});e.setOrigin(.5,.5),e.text="Jouer",e.setStyle({align:"center",fontFamily:"Arial",fontSize:"3em"}),this.jouer=e,this.events.emit("scene-awake")}preload(){}create(){const e=this;this.editorCreate(),this.jouer.setInteractive().on("pointerdown",function(){e.scene.start("Jeu")},this)}}function ye(s){s.create({key:"deplacement_boy_atlas",frames:s.generateFrameNames("boy_atlas",{prefix:"walk",start:1,end:15}),frameRate:33,repeat:0}),s.create({key:"inactif_boy_atlas",frames:s.generateFrameNames("boy_atlas",{prefix:"idle",start:1,end:15}),frameRate:15,repeat:0}),s.create({key:"saut_boy_atlas",frames:s.generateFrameNames("boy_atlas",{prefix:"jump",start:1,end:15}),frameRate:15,repeat:0}),s.create({key:"deplacement_girl_atlas",frames:s.generateFrameNames("girl_atlas",{prefix:"run",start:1,end:8}),frameRate:22,repeat:0}),s.create({key:"inactif_girl_atlas",frames:s.generateFrameNames("girl_atlas",{prefix:"idle",start:1,end:10}),frameRate:15,repeat:0})}const Y={};Y.boy_atlas={StatsSupplementaire:(s,e)=>{},A:s=>{},toucheGauche:(s,e)=>{},toucheDroite:(s,e)=>{},toucheHaut:(s,e)=>{},toucheBas:(s,e)=>{},toucheEspace:(s,e)=>{},deplacement:(s,e)=>{}};Y.girl_atlas={StatsSupplementaire:(s,e)=>{},A:s=>{},toucheGauche:(s,e)=>{},toucheDroite:(s,e)=>{},toucheHaut:(s,e)=>{},toucheBas:(s,e)=>{},toucheEspace:(s,e)=>{},deplacement:(s,e)=>{}};const Fe=(s,e)=>{s[e.sprite].deplacement=(t,o)=>{var l;t.commande.left.isDown?(t&&t.setVelocityX(-180),t.anims.play(`deplacement_${t.sprite}`,!0)):t.commande.right.isDown?(t&&t.setVelocityX(180),t.anims.play(`deplacement_${t.sprite}`,!0)):Phaser.Input.Keyboard.JustDown(t.commande.space)?(t.setVelocityY(-500),t.anims.play(`saut_${t.sprite}`)):((l=t.body)==null?void 0:l.touching.down)&&(t.anims.play(`inactif_${t.sprite}`,!0),t.setVelocityX(0))}};class Xe extends Phaser.Physics.Arcade.Sprite{constructor(e,t,o,l,i,d,c){super(e,t,o,l,d);r(this,"ClientID");r(this,"sprite");r(this,"currentTarget");r(this,"keyboard");r(this,"commande");r(this,"vel",160);this.init(e,i,d,l,c)}init(e,t,o,l,i){this.scene=e,this.ClientID=t,this.sprite=l,this.currentTarget=this,new ye(this.anims);const d=this;Fe(Y,this),Y[this.sprite].StatsSupplementaire.call(d,d,Y),this.commande=this.scene.input.keyboard.createCursorKeys()}preUpdate(e,t){super.preUpdate(e,t),Y[this.sprite].deplacement(this,{}),this.scene.ombre.y=this.getBottomCenter().y-19,this.scene.ombre.x=this.getLeftCenter().x+41}}class Ye extends Phaser.GameObjects.Rectangle{constructor(e,t,o,l,i,d){super(e,t,o,l,i,d);r(this,"rect");r(this,"questionEnCours");const c=e.add.rectangle(t,o,l+60,i+60);c.scaleX=.5001302302665827,c.scaleY=.5001302302665827,c.isFilled=!0,c.setAlpha(.1),this.rect=c,e.add.existing(this);const n=e.add.text(t,o,"",{wordWrap:{width:400}});n.scaleX=1.8887616340344677,n.scaleY=1.8887616340344677,n.setOrigin(.5,.5),n.text="?",this.questionEnCours=n,e.add.tween({targets:c,scale:"+=0.04",alpha:.3,yoyo:!0,ease:"easeIn",duration:700,repeat:-1})}toucher(){this.scene.tweens.add({targets:this,scale:29,duration:1e3})}setQuestion(e){this.questionEnCours.setText(e.titre);const t=this.scene.add.container(0,0);t.setAlpha(0);let o=this.y;e==null||e.reponse.forEach((l,i)=>{const d=this.scene.add.text(this.x,o-100,l).setOrigin(.5,.5);d.setStyle({fontSize:"23px"}),d.setInteractive({cursor:"pointer"}).on("pointerdown",function(){e.indexBonneReponse===i?this.cacheQuestion("\u2705",600):this.cacheQuestion("\u274C",600),this.cacheReponse(t)},this).on("pointerover",function(){this.setTint(16750592)}).on("pointerout",function(){this.clearTint()}),t.add(d),o+=60}),this.afficheReponse(t),this.animationBounce(this.questionEnCours),console.log("REPONSE:"+e)}cacheQuestion(e,t=1e3){this.scene.tweens.add({targets:this,scale:1,duration:t,onComplete:()=>{this.questionEnCours.setText(e),this.animationBounce(this.questionEnCours,"+")}})}cacheReponse(e){this.scene.tweens.add({targets:[this,e],alpha:0,duration:600,onComplete:()=>{e.destroy(!0)}})}afficheReponse(e){this.scene.tweens.add({targets:e,alpha:1,duration:600})}animationBounce(e,t="-"){this.scene.tweens.add({targets:e,y:`${t}=200`,ease:"Bounce",duration:900})}}class xe extends u.Scene{constructor(){super("Jeu");r(this,"nuage_premier_plan");r(this,"ombre");r(this,"montagnes");r(this,"nuages");r(this,"etoiles");r(this,"question");r(this,"platforme1");r(this,"questionBoite");r(this,"joueurs");r(this,"ciel");r(this,"sol");r(this,"boitesQuestion")}editorCreate(){const e=this.add.rectangle(1210,519,128,128);e.scaleX=18.88366025235117,e.scaleY=1.315980682445885,e.visible=!1,e.isFilled=!0,e.fillColor=6195730;const t=this.add.rectangle(1209,138,128,128);t.scaleX=18.88366025235117,t.scaleY=2.521640189639836,t.visible=!1,t.isFilled=!0,t.fillColor=8046835;const o=this.add.container(509.1020812988281,15.979729652404785),l=this.add.ellipse(1063.8979187011719,34.020270347595215,128,128);l.scaleX=1.55009444467926,l.scaleY=.5471583642430621,l.isFilled=!0,l.fillColor=15790320,o.add(l);const i=this.add.ellipse(176,179,128,128);i.scaleX=.9802067329790795,i.scaleY=.3114300211895095,i.isFilled=!0,i.fillColor=15790320,i.fillAlpha=.3,o.add(i);const d=this.add.ellipse(369,158,128,128);d.scaleX=.9891390471466819,d.scaleY=.34498158682333724,d.isFilled=!0,d.fillColor=15790320,d.fillAlpha=.5,o.add(d);const c=this.add.ellipse(-118,172,128,128);c.scaleX=.5970009334157442,c.scaleY=.24049550712169382,c.isFilled=!0,c.fillColor=15790320,c.fillAlpha=.6,o.add(c);const n=this.add.ellipse(777,520,128,128);n.scaleX=2.500652874464774,n.scaleY=.3753333900772714,n.isFilled=!0,n.fillColor=8575955;const h=this.add.ellipse(246,519,128,128);h.scaleX=.3703794683909353,h.scaleY=.11369542430293023,h.isFilled=!0,h.fillColor=0,h.fillAlpha=.3;const C=this.add.container(209,286),S=this.add.triangle(150,3,0,128,64,0,128,128);S.scaleX=2.353493048152178,S.scaleY=2.282151254720174,S.isFilled=!0,S.fillColor=5472080,C.add(S);const b=this.add.triangle(0,36,0,128,64,0,128,128);b.scaleX=1.8242469745484022,b.scaleY=1.767888400118169,b.isFilled=!0,b.fillColor=5876308,C.add(b);const w=this.add.triangle(615,0,0,128,64,0,128,128);w.scaleX=2.353493048152178,w.scaleY=2.282151254720174,w.isFilled=!0,w.fillColor=5472080,C.add(w);const j=this.add.triangle(828,30,0,128,64,0,128,128);j.scaleX=2.353493048152178,j.scaleY=2.282151254720174,j.isFilled=!0,j.fillColor=8953734,C.add(j);const p=this.add.container(154,27.756610870361328),v=this.add.ellipse(118,27,128,128);v.scaleX=1.5431337769345972,v.scaleY=.42072301230973946,v.isFilled=!0,v.fillAlpha=.9,p.add(v);const E=this.add.ellipse(846,36.24338912963867,128,128);E.scaleX=1.2849814609962906,E.scaleY=.4097457524219835,E.isFilled=!0,E.fillAlpha=.9,p.add(E);const k=this.add.ellipse(770,20,128,128);k.scaleX=1.2849814609962906,k.scaleY=.4097457524219835,k.isFilled=!0,k.fillAlpha=.7,p.add(k);const A=this.add.ellipse(467,36,128,128);A.scaleX=1.2849814609962906,A.scaleY=.4097457524219835,A.isFilled=!0,A.fillAlpha=.7,p.add(A);const P=this.add.ellipse(952.5316162109375,27.763164520263672,128,128);P.scaleX=1.2849814609962906,P.scaleY=.4097457524219835,P.isFilled=!0,P.fillAlpha=.7,p.add(P);const D=this.add.ellipse(69,53,128,128);D.scaleX=1.1128570730399714,D.scaleY=.4472654549694031,D.isFilled=!0,D.fillAlpha=.7,p.add(D);const _=this.add.container(532,341),f=this.add.rectangle(36,82,128,128);f.scaleX=.17339421603991745,f.scaleY=.8446000867118206,f.isFilled=!0,f.fillColor=6306819,f.isStroked=!0,f.lineWidth=3,_.add(f);const m=this.add.ellipse(28,5,128,128);m.scaleX=.6085671039031112,m.scaleY=.6085671039031112,m.isFilled=!0,m.fillColor=1293371,m.isStroked=!0,_.add(m);const g=this.add.ellipse(57,0,128,128);g.scaleX=.6085671039031112,g.scaleY=.6085671039031112,g.isFilled=!0,g.fillColor=1159479,g.isStroked=!0,_.add(g);const y=this.add.ellipse(45,15,128,128);y.scaleX=.6085671039031112,y.scaleY=.6085671039031112,y.isFilled=!0,y.fillColor=1232190,y.isStroked=!0,_.add(y);const F=this.add.rectangle(19,79,128,128);F.scaleX=.07874256901916143,F.scaleY=.4148767777757858,F.angle=-48.00000000000006,F.isFilled=!0,F.fillColor=6306819,_.add(F);const B=this.add.ellipse(0,65,128,128);B.scaleX=.2478468817603896,B.scaleY=.2478468817603896,B.isFilled=!0,B.fillColor=1232190,_.add(B);const a=this.add.container(14,-11);a.scaleX=1.0811049870870222,a.scaleY=.9597097072512011,a.visible=!1;const q=this.add.ellipse(255.15234375,99.5490550994873,128,128);q.scaleX=.02783652503959405,q.scaleY=.02783652503959405,q.isFilled=!0,a.add(q);const G=this.add.ellipse(268.649658203125,102.83996391296387,128,128);G.scaleX=.02783652503959405,G.scaleY=.02783652503959405,G.isFilled=!0,a.add(G);const N=this.add.ellipse(204.652099609375,106.79229545593262,128,128);N.scaleX=.02783652503959405,N.scaleY=.02783652503959405,N.isFilled=!0,a.add(N);const Q=this.add.ellipse(205.8681640625,84.44635581970215,128,128);Q.scaleX=.02783652503959405,Q.scaleY=.02783652503959405,Q.isFilled=!0,a.add(Q);const J=this.add.ellipse(295.099853515625,82.77420616149902,128,128);J.scaleX=.02783652503959405,J.scaleY=.02783652503959405,J.isFilled=!0,a.add(J);const I=this.add.ellipse(238.955078125,52.58556938171387,128,128);I.scaleX=.02783652503959405,I.scaleY=.02783652503959405,I.isFilled=!0,a.add(I);const U=this.add.ellipse(193.329345703125,47.172353744506836,128,128);U.scaleX=.02783652503959405,U.scaleY=.02783652503959405,U.isFilled=!0,a.add(U);const $=this.add.ellipse(150.796875,61.09206199645996,128,128);$.scaleX=.02783652503959405,$.scaleY=.02783652503959405,$.isFilled=!0,a.add($);const z=this.add.ellipse(97.43798828125,66.50527763366699,128,128);z.scaleX=.02783652503959405,z.scaleY=.02783652503959405,z.isFilled=!0,a.add(z);const M=this.add.ellipse(66.50537109375,.7733173370361328,128,128);M.scaleX=.02783652503959405,M.scaleY=.02783652503959405,M.isFilled=!0,a.add(M);const W=this.add.ellipse(163.169921875,23.19951820373535,128,128);W.scaleX=.02783652503959405,W.scaleY=.02783652503959405,W.isFilled=!0,a.add(W);const V=this.add.ellipse(34.79931640625,108.26441764831543,128,128);V.scaleX=.02783652503959405,V.scaleY=.02783652503959405,V.isFilled=!0,a.add(V);const H=this.add.ellipse(180.182861328125,127.59733390808105,128,128);H.scaleX=.02783652503959405,H.scaleY=.02783652503959405,H.isFilled=!0,a.add(H);const K=this.add.ellipse(136.877197265625,95.89133262634277,128,128);K.scaleX=.02783652503959405,K.scaleY=.02783652503959405,K.isFilled=!0,a.add(K);const Z=this.add.ellipse(0,26.292787551879883,128,128);Z.scaleX=.02783652503959405,Z.scaleY=.02783652503959405,Z.isFilled=!0,a.add(Z);const ee=this.add.ellipse(325.56640625,0,128,128);ee.scaleX=.02783652503959405,ee.scaleY=.02783652503959405,ee.isFilled=!0,a.add(ee);const te=this.add.ellipse(497.242919921875,40.98581504821777,128,128);te.scaleX=.02783652503959405,te.scaleY=.02783652503959405,te.isFilled=!0,a.add(te);const se=this.add.ellipse(462.443603515625,102.85119438171387,128,128);se.scaleX=.02783652503959405,se.scaleY=.02783652503959405,se.isFilled=!0,a.add(se);const le=this.add.ellipse(348.76611328125,118.31753349304199,128,128);le.scaleX=.02783652503959405,le.scaleY=.02783652503959405,le.isFilled=!0,a.add(le);const ie=this.add.ellipse(398.25830078125,47.172353744506836,128,128);ie.scaleX=.02783652503959405,ie.scaleY=.02783652503959405,ie.isFilled=!0,a.add(ie);const ae=this.add.ellipse(522.762451171875,19.332929611206055,128,128);ae.scaleX=.02783652503959405,ae.scaleY=.02783652503959405,ae.isFilled=!0,a.add(ae);const oe=this.add.ellipse(602.4140625,136.10383415222168,128,128);oe.scaleX=.02783652503959405,oe.scaleY=.02783652503959405,oe.isFilled=!0,a.add(oe);const de=this.add.ellipse(400.578369140625,159.30334281921387,128,128);de.scaleX=.02783652503959405,de.scaleY=.02783652503959405,de.isFilled=!0,a.add(de);const re=this.add.ellipse(328.65966796875,160.0235424041748,128,128);re.scaleX=.02783652503959405,re.scaleY=.02783652503959405,re.isFilled=!0,a.add(re);const ce=this.add.ellipse(417.59130859375,81.14518547058105,128,128);ce.scaleX=.02783652503959405,ce.scaleY=.02783652503959405,ce.isFilled=!0,a.add(ce);const ne=this.add.ellipse(281.487548828125,34.852399826049805,128,128);ne.scaleX=.02783652503959405,ne.scaleY=.02783652503959405,ne.isFilled=!0,a.add(ne);const ue=this.add.container(400,61);ue.alpha=0;const X=this.add.rectangle(0,0,128,128);X.scaleX=6.232212622705353,X.scaleY=.9337083641231465,X.isFilled=!0,X.fillColor=0,X.fillAlpha=.8,ue.add(X);const he=this.add.text(0,0,"",{});he.setOrigin(.5,.5),he.text="Quelle est la capitale de Paris ?",he.setStyle({fontSize:"26px"}),ue.add(he);const O=this.add.rectangle(311,549,128,128);O.scaleX=4.707513992591325,O.scaleY=-.23407854965607622,O.visible=!1,O.isFilled=!0;const pe=this.add.layer(),R=this.add.text(449,260,"",{});R.scaleX=1.8887616340344677,R.scaleY=1.8887616340344677,R.setOrigin(.5,.5),R.text="?",pe.add(R);const T=this.add.text(760,267,"",{});T.scaleX=1.8887616340344677,T.scaleY=1.8887616340344677,T.setOrigin(.5,.5),T.text="?",pe.add(T);const L=this.add.text(1039,270,"",{});L.scaleX=1.8887616340344677,L.scaleY=1.8887616340344677,L.setOrigin(.5,.5),L.text="?",pe.add(L),this.nuage_premier_plan=o,this.ombre=h,this.montagnes=C,this.nuages=p,this.etoiles=a,this.question=ue,this.platforme1=O,this.questionBoite=pe,this.events.emit("scene-awake")}create(){this.editorCreate();const e=this.cache.json.get("questions");console.log(e);const t=this.scale.width,o=this.scale.height;this.montagnes.setScrollFactor(.3),this.nuages.setScrollFactor(.4),this.nuage_premier_plan.setScrollFactor(.2),this.question.setScrollFactor(0),this.tweens.add({targets:this.nuages,x:"-=400",duration:3e4,repeat:-1}),this.etoiles.setScrollFactor(0),this.joueurs=this.physics.add.group({runChildUpdate:!0,collideWorldBounds:!1}),this.boitesQuestion=this.physics.add.group({runChildUpdate:!0,collideWorldBounds:!1,allowGravity:!1,immovable:!0}),this.physics.add.existing(this.platforme1),this.platforme1.body.allowGravity=!1,this.platforme1.body.immovable=!0,this.physics.add.collider(this.joueurs,this.boitesQuestion,(c,n)=>{n.toucher(),n.setQuestion(n.getData("donnes")),n.body.enable=!1}),this.physics.add.collider(this.joueurs,this.platforme1);const l=e[Object.keys(e)[0]];this.questionBoite.getAll().forEach((c,n)=>{const h=new Ye(this,c.x,c.y,50,50,612958);h.setData("donnes",l[n]),this.boitesQuestion.add(h)});const i=t*20,d=this.creationJoueur("boy_atlas","idle1","id");this.cameras.main.setBounds(0,0,t*20,o),this.cameras.main.startFollow(d,!1,1,1,50),this.ciel=this.add.graphics(),this.ciel.fillGradientStyle(3253734,3253734,481670,481670,1),this.ciel.fillRect(0,0,i,o-140),this.ciel.setDepth(-1),this.sol=this.add.graphics(),this.sol.fillGradientStyle(2709258,6195730,6195730,0,1),this.sol.fillRect(0,420,i,200),this.sol.setDepth(-1)}creationJoueur(e,t,o,l=287,i=434){const d=this.add.existing(new Xe(this,l,i,e,o,t,!1));return d.setScale(.3).setDepth(10).setData({ClientId:o}),this.joueurs.add(d),d}suppressionJoueur(e){var t;(t=this.joueurs.getMatching("ClientID",e)[0])==null||t.destroy()}update(e,t){}}class x{constructor(e){r(this,"scene");this.scene=e.scene;const t=this.awake!==x.prototype.awake,o=this.start!==x.prototype.start,l=this.update!==x.prototype.update,i=this.destroy!==x.prototype.destroy;t&&this.scene.events.once("scene-awake",this.awake,this),o&&this.scene.events.once(u.Scenes.Events.UPDATE,this.start,this),l&&this.scene.events.on(u.Scenes.Events.UPDATE,this.update,this),(o||l||i)&&e.on(u.GameObjects.Events.DESTROY,()=>{this.scene.events.off(u.Scenes.Events.UPDATE,this.start,this),this.scene.events.off(u.Scenes.Events.UPDATE,this.update,this),i&&this.destroy()})}awake(){}start(){}update(){}destroy(){}}class Ce extends x{constructor(e){super(e);r(this,"gameObject");this.gameObject=e,e.__PreloadText=this,this.scene.load.on(u.Loader.Events.PROGRESS,t=>{this.gameObject.text=Math.floor(t*100)+"%"})}static getComponent(e){return e.__PreloadText}}class Se extends u.Scene{constructor(){super("Preload")}editorCreate(){const e=this.add.image(400,219,"guapen");e.scaleX=.5915891440784282,e.scaleY=.5915891440784282;const t=this.add.text(400,349,"",{});t.setOrigin(.5,.5),t.text="0%",t.setStyle({fontSize:"30px"}),new Ce(t),this.events.emit("scene-awake")}preload(){this.editorCreate(),this.load.pack("asset-pack","assets/asset-pack.json?h=4bc22f41d6ff20ccb5e349db7b296066"),this.load.on(u.Loader.Events.COMPLETE,()=>this.scene.start("Level"))}}class be extends u.Scene{constructor(){super("Boot")}preload(){this.load.pack("pack","assets/preload-asset-pack.json?h=5987984543ada149b63f096e2f7879a5")}create(){this.scene.start("Preload")}}const we=new u.Game({width:800,height:600,backgroundColor:"#2f2f2f",scale:{mode:u.Scale.ScaleModes.FIT,autoCenter:u.Scale.Center.CENTER_BOTH},physics:{default:"arcade",arcade:{gravity:{y:800,x:0},debug:!1}},scene:[be,Se,ge,xe]});we.scene.start("Boot");
